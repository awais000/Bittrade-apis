{"version":3,"sources":["../../server/controllers/suppliers.controller.js"],"names":["SuppliersController","Suppliers","require","getSuppliers","req","res","suppliers","find","json","createSupplier","supplier","body","create","then","response","console","log","id","catch","err","message","deleteSupplier","params","findByIdAndRemove","e","editSupplier","data","findOneAndUpdate","_id","getSupplier","findById","module","exports"],"mappings":";;AAEA,IAAMA,sBAAsB,EAA5B;;AAEA,IAAMC,YAAYC,QAAQ,qBAAR,CAAlB;;AAEAF,oBAAoBG,YAApB,GAAmC,gBAAOC,GAAP,EAAYC,GAAZ,EAAoB;AACnD,QAAMC,YAAY,MAAML,UAAUM,IAAV,EAAxB;;AAEAF,QAAIG,IAAJ,CAASF,SAAT;AACH,CAJD;;AAMAN,oBAAoBS,cAApB,GAAqC,gBAAOL,GAAP,EAAYC,GAAZ,EAAoB;AACrD,QAAMK,WAAWN,IAAIO,IAArB;;AAEAV,cAAUW,MAAV,CAAiBF,QAAjB,EACKG,IADL,CACW,UAACC,QAAD,EAAc;AACjBC,gBAAQC,GAAR,CAAYF,SAASG,EAArB,EAAyB,sBAAzB;AACAZ,YAAIG,IAAJ,CAAS,EAAC,UAAU,KAAX,EAAT;AACH,KAJL,EAKKU,KALL,CAKY,eAAO;AACXb,YAAIG,IAAJ,CAASW,IAAIC,OAAb;AACAL,gBAAQC,GAAR,CAAYG,IAAIC,OAAhB;AACH,KARL;AASH,CAZD;;AAcApB,oBAAoBqB,cAApB,GAAqC,gBAAOjB,GAAP,EAAYC,GAAZ,EAAoB;AAAA,QAC7CY,EAD6C,GACtCb,IAAIkB,MADkC,CAC7CL,EAD6C;;;AAGrDhB,cAAUsB,iBAAV,CAA4BN,EAA5B,EACKJ,IADL,CACW,UAACC,QAAD,EAAc;AACjBC,gBAAQC,GAAR,CAAY,oBAAZ,EAAiCF,SAASG,EAA1C;AACAZ,YAAIG,IAAJ,CAAS,EAAE,UAAU,KAAZ,EAAT;AACH,KAJL,EAKKU,KALL,CAKY,UAACM,CAAD,EAAO;AACXnB,YAAIG,IAAJ,CAASgB,CAAT;AACH,KAPL;AAQH,CAXD;;AAaAxB,oBAAoByB,YAApB,GAAmC,gBAAOrB,GAAP,EAAYC,GAAZ,EAAoB;AAAA,QAC3CY,EAD2C,GACpCb,IAAIkB,MADgC,CAC3CL,EAD2C;;AAEnDS,WAAOtB,IAAIO,IAAX;;AAEAV,cAAU0B,gBAAV,CACI,EAAC,OAAOV,EAAR,EADJ,EAEI,EAAE,QAAQS,IAAV,EAFJ,EAIKb,IAJL,CAIW,UAACC,QAAD,EAAc;AACjBT,YAAIG,IAAJ,CAAS,EAAE,UAAU,KAAZ,EAAT;AACAO,gBAAQC,GAAR,CAAYF,SAASc,GAArB,EAA0B,aAA1B;AACH,KAPL,EAQKV,KARL,CAQY,UAACM,CAAD,EAAO;AACXnB,YAAIG,IAAJ,CAASgB,EAAEJ,OAAX;AACH,KAVL;AAWH,CAfD;;AAiBApB,oBAAoB6B,WAApB,GAAkC,gBAAOzB,GAAP,EAAYC,GAAZ,EAAoB;AAAA,QAC1CY,EAD0C,GACnCb,IAAIkB,MAD+B,CAC1CL,EAD0C;;;AAGlDhB,cAAU6B,QAAV,CAAoBb,EAApB,EACKJ,IADL,CACW,UAACH,QAAD,EAAc;AACjBL,YAAIG,IAAJ,CAASE,QAAT;AACH,KAHL,EAIKQ,KAJL,CAIY,UAACM,CAAD,EAAO;AACXnB,YAAIG,IAAJ,CAASgB,EAAEJ,OAAX;AACH,KANL;AAOH,CAVD;;AAeAW,OAAOC,OAAP,GAAiBhC,mBAAjB;;AAEA","file":"suppliers.controller.js","sourcesContent":["\r\n\r\nconst SuppliersController = {};\r\n\r\nconst Suppliers = require('../models/suppliers');\r\n\r\nSuppliersController.getSuppliers = async (req, res) => {\r\n    const suppliers = await Suppliers.find();\r\n\r\n    res.json(suppliers);\r\n};\r\n\r\nSuppliersController.createSupplier = async (req, res) => {\r\n    const supplier = req.body;\r\n\r\n    Suppliers.create(supplier)\r\n        .then( (response) => {\r\n            console.log(response.id, \"Supplier was created\");\r\n            res.json({\"status\": \"200\"});\r\n        })\r\n        .catch( err => {\r\n            res.json(err.message);\r\n            console.log(err.message);\r\n        });\r\n};\r\n\r\nSuppliersController.deleteSupplier = async (req, res) => {\r\n    const { id } = req.params;\r\n\r\n    Suppliers.findByIdAndRemove(id)\r\n        .then( (response) => {\r\n            console.log('Deleted supplier: ',response.id);\r\n            res.json({ \"status\": \"200\" });\r\n        })\r\n        .catch( (e) => {\r\n            res.json(e);\r\n        })\r\n};\r\n\r\nSuppliersController.editSupplier = async (req, res) => {\r\n    const { id } = req.params;\r\n    data = req.body;\r\n\r\n    Suppliers.findOneAndUpdate(\r\n        {\"_id\": id},\r\n        { \"$set\": data}\r\n    )\r\n        .then( (response) => {\r\n            res.json({ \"status\": \"200\" });\r\n            console.log(response._id, \"Was updated\");\r\n        })\r\n        .catch( (e) => {\r\n            res.json(e.message);\r\n        })\r\n};\r\n\r\nSuppliersController.getSupplier = async (req, res) => {\r\n    const { id } = req.params;\r\n\r\n    Suppliers.findById( id )\r\n        .then( (supplier) => {\r\n            res.json(supplier);\r\n        })\r\n        .catch( (e) => {\r\n            res.json(e.message);\r\n        })\r\n};\r\n\r\n\r\n\r\n\r\nmodule.exports = SuppliersController;\r\n\r\n/** this ends this file\r\n* server/controllers/suppliers.controller\r\n**/\r\n"]}